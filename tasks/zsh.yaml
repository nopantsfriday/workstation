# configure zsh shell
- name: Install oh-my-zsh
  git:
    repo: https://github.com/ohmyzsh/ohmyzsh.git
    dest: ~/.oh-my-zsh
    depth: 1
- name: Copy .zshrc template config
  copy:
    src: ~/.oh-my-zsh/templates/zshrc.zsh-template
    dest: ~/.zshrc
- name: Install powerlevel10k theme for zsh
  git:
    repo: https://github.com/romkatv/powerlevel10k.git
    dest: ~/.oh-my-zsh/custom/themes/powerlevel10k
    depth: 1
- name: Set powerlevel10k theme in .zshrc
  ansible.builtin.replace:
    path: ~/.zshrc
    regexp: 'ZSH_THEME=".+"'
    replace: 'ZSH_THEME="powerlevel10k/powerlevel10k"'
- name: Install zsh syntax highlighting
  git:
    repo: https://github.com/zsh-users/zsh-syntax-highlighting.git
    dest: ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
    depth: 1
- name: Install zsh zsh-autosuggestions
  git:
    repo: https://github.com/zsh-users/zsh-autosuggestions
    dest: ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions
    depth: 1
- name: Set zsh plugins in .zshrc
  ansible.builtin.replace:
    path: ~/.zshrc
    regexp: 'plugins=\(.+\)'
    replace: 'plugins=(git zsh-syntax-highlighting zsh-autosuggestions)'
- name: Create ~/.fonts directory
  ansible.builtin.file:
    path: ~/.fonts
    state: directory
- name: Font MesloLGS NF Regular.ttf for powerlevel10k zsh theme
  get_url:
    url: "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf"
    dest: "~/.fonts/MesloLGS NF Regular.ttf"
- name: Font MesloLGS NF Bold.ttf for powerlevel10k zsh theme
  get_url:
    url: "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf"
    dest: "~/.fonts/MesloLGS NF Bold.ttf"
- name: Font MesloLGS NF Italic.ttf for powerlevel10k zsh theme
  get_url:
    url: "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf"
    dest: "~/.fonts/MesloLGS NF Italic.ttf"
- name: Font MesloLGS NF Bold Italic.ttf for powerlevel10k zsh theme
  get_url:
    url: "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf"
    dest: "~/.fonts/MesloLGS NF Bold Italic.ttf"